<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- bootsrap-CDN-link -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <!-- stylesheet-css-for-Header -->
      <link rel="stylesheet" href="/styles/header.css">
      <!-- stylesheet -css for search.css -->
       <link rel="stylesheet" href="/styles/search.css">
     <!-- Stylesheet-css-for-Footer -->
  <link rel="stylesheet" href="/styles/footer.css"> 
</head>
<body>

    <!-- Include the header with navigation -->
   <%- include("header.ejs") %>
    

<h1 class="search-header">Search Post</h1>
<form method="GET" action="/searchResults" class="form-search">
  <input type="text" name="q" placeholder="Search by destination, name, or story..." required>
  <button type="submit"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-search" viewBox="0 0 16 16">
  <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0"/>
</svg></button>
</form>

<% if (posts) { %>
  <h2 class="result-search-header">Results for "<%= query %>":</h2>
  <% if (posts.length > 0) { %>
    <ul>
      <% posts.forEach(post => { %>
        <li class="search-link">
          <a   href="/detailedPost/<%= post.Id %>"><%= post.Destination %> by <%= post.userName %></a>
        </li>
      <% }) %>
    </ul>
  <% } else { %>
    <p class="search-err-msg">No matching posts found.</p>
  <% } %>
<% } %>

   <!-- footer ejs file -->
   <%- include("footer.ejs") %>



   <!-- Bootstrap JS Bundle with Popper -->
   <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

   <!--  Header.JS files link -->
   <script src="/JS/header.js" ></script>




</body>
</html>